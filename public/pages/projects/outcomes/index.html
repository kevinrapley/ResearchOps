<!doctype html>
<html lang="en-GB" data-api-origin="https://rops-api.digikev-kevin-rapley.workers.dev" prefix="
    dcterms: http://purl.org/dc/terms/
    schema:  https://schema.org/">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Outcomes – Impact &amp; ROI — ResearchOps</title>
	<link rel="stylesheet" href="/css/govuk/govuk-typography.css" media="screen" />
	<link rel="stylesheet" href="/css/govuk/govuk-colours.css" media="screen" />
	<link rel="stylesheet" href="/css/screen.css" media="screen" />
	<script type="module" src="/components/layout.js"></script>
</head>

<body typeof="schema:WebPage" resource="#page" about="#page" vocab="https://schema.org/">

	<!-- Page metadata -->
	<meta property="schema:name" content="Outcomes – Impact &amp; ROI — ResearchOps" />
	<meta property="schema:creator" content="Home Office ResearchOps Platform" />
	<meta property="schema:dateModified" content="2025-12-07" />
	<meta property="dcterms:language" content="en-GB" />

	<!-- Global header -->
	<x-include src="/partials/header.html" vars='{
      "active":"Projects",
      "subtitle":"Impact &amp; ROI"
  }'></x-include>

	<main class="govuk-body" role="main" data-project-name="" data-project-id="" typeof="schema:ResearchProject" resource="#project">

		<!-- BREADCRUMBS -->
		<nav class="breadcrumbs" aria-label="Breadcrumb" typeof="schema:BreadcrumbList">
			<ol>
				<li property="schema:itemListElement" typeof="schema:ListItem">
					<a href="/pages/projects/" property="schema:item" typeof="schema:Thing">
						<span property="schema:name">Projects</span>
					</a>
					<meta property="schema:position" content="1" />
				</li>
				<li property="schema:itemListElement" typeof="schema:ListItem">
					<a id="breadcrumb-project" href="#" property="schema:item" typeof="schema:Thing">
						<span property="schema:name">Project</span>
					</a>
					<meta property="schema:position" content="2" />
				</li>
				<li property="schema:itemListElement" typeof="schema:ListItem" aria-current="page">
					<span property="schema:name">Impact &amp; ROI</span>
					<meta property="schema:position" content="3" />
				</li>
			</ol>
		</nav>

		<!-- Back link to dashboard outcomes -->
		<a id="back-link" class="govuk-back-link" href="#">Back to project dashboard</a>

		<!-- HERO -->
		<div class="dashboard-hero">
			<p id="eyebrow-org" class="project-org" property="schema:sourceOrganization" typeof="schema:Organization"></p>

			<h1 id="project-title" class="govuk-heading-l" property="schema:name">Impact &amp; ROI</h1>

			<p id="project-subtitle" class="lede" property="schema:description">Track how your research insights influence decisions and outcomes.</p>
		</div>

		<section id="impact-tracker" data-project-id="" data-study-id="">
			<!-- Impact tracker form -->
			<form id="impact-form" class="govuk-form-group">
				<div class="govuk-form-group">
					<label class="govuk-label" for="impact-insightId">Insight ID</label>
					<div class="govuk-hint" id="impact-insightId-hint">
						Auto-generated identifier for this impact record (read-only).
					</div>
					<input class="govuk-input govuk-!-width-two-thirds" id="impact-insightId" name="insightId" type="text" readonly aria-describedby="impact-insightId-hint" />
				</div>

				<div class="govuk-form-group">
					<label class="govuk-label" for="impact-decisionLink">Decision link (Jira / PRD / URL)</label>
					<div class="govuk-hint" id="impact-decisionLink-hint">
						Link to the decision this insight informed.
					</div>
					<input class="govuk-input govuk-!-width-two-thirds" id="impact-decisionLink" name="decisionLink" type="url" inputmode="url" aria-describedby="impact-decisionLink-hint" />
				</div>

				<div class="govuk-form-group">
					<label class="govuk-label" for="impact-metricName">Metric name</label>
					<div class="govuk-hint" id="impact-metricName-hint">
						The metric you're tracking (e.g. completion rate).
					</div>
					<input class="govuk-input govuk-!-width-two-thirds" id="impact-metricName" name="metricName" type="text" required aria-describedby="impact-metricName-hint" />
				</div>

				<div class="govuk-form-group">
					<label class="govuk-label" for="impact-date">Date recorded</label>
					<div class="govuk-hint" id="impact-date-hint">
						When this impact was recorded (optional).
					</div>
					<input class="govuk-input govuk-input--width-10" id="impact-date" name="recordedAt" type="date" aria-describedby="impact-date-hint" />
				</div>

				<div class="govuk-form-group">
					<label class="govuk-label" for="impact-baseline">Baseline (optional)</label>
					<div class="govuk-hint" id="impact-baseline-hint">
						Value before the change (numeric).
					</div>
					<input class="govuk-input govuk-input--width-10" id="impact-baseline" name="baseline" type="number" min="0" step="0.01" inputmode="decimal" aria-describedby="impact-baseline-hint" />
				</div>

				<div class="govuk-form-group">
					<label class="govuk-label" for="impact-target">Target (optional)</label>
					<div class="govuk-hint" id="impact-target-hint">
						Expected value after the change (numeric).
					</div>
					<input class="govuk-input govuk-input--width-10" id="impact-target" name="target" type="number" min="0" step="0.01" inputmode="decimal" aria-describedby="impact-target-hint" />
				</div>

				<div class="govuk-form-group">
					<label class="govuk-label" for="impact-actual">Actual (optional)</label>
					<div class="govuk-hint" id="impact-actual-hint">
						Observed value after the change (numeric).
					</div>
					<input class="govuk-input govuk-input--width-10" id="impact-actual" name="actual" type="number" min="0" step="0.01" inputmode="decimal" aria-describedby="impact-actual-hint" />
				</div>

				<!-- Added margin-bottom on drop-down groups -->
				<div class="govuk-form-group govuk-!-margin-bottom-3">
					<label class="govuk-label" for="impact-type">Impact type</label>
					<div class="govuk-hint" id="impact-type-hint">What kind of impact this describes.</div>
					<select class="govuk-select govuk-!-width-two-thirds" id="impact-type" name="impactType" aria-describedby="impact-type-hint">
						<option value="product">Product</option>
						<option value="strategy">Strategy</option>
						<option value="process">Process</option>
						<option value="org">Organisation</option>
					</select>
				</div>

				<div class="govuk-form-group govuk-!-margin-bottom-3">
					<label class="govuk-label" for="impact-scale">Impact scale</label>
					<div class="govuk-hint" id="impact-scale-hint">The scale or reach of this impact.</div>
					<select class="govuk-select govuk-!-width-two-thirds" id="impact-scale" name="impactScale" aria-describedby="impact-scale-hint">
						<option value="feature">Feature</option>
						<option value="team">Team</option>
						<option value="cross-team">Cross-team</option>
						<option value="org">Organisation-wide</option>
					</select>
				</div>

				<div class="govuk-form-group govuk-!-margin-bottom-3">
					<label class="govuk-label" for="impact-status">Status</label>
					<div class="govuk-hint" id="impact-status-hint">Lifecycle status of the change.</div>
					<select class="govuk-select govuk-!-width-two-thirds" id="impact-status" name="status" aria-describedby="impact-status-hint">
						<option value="planned">Planned</option>
						<option value="in-progress">In progress</option>
						<option value="implemented">Implemented</option>
						<option value="evaluated">Evaluated</option>
					</select>
				</div>

				<div class="govuk-form-group">
					<label class="govuk-label" for="impact-notes">Notes</label>
					<div class="govuk-hint" id="impact-notes-hint">Additional context or links to evidence.</div>
					<textarea class="govuk-textarea govuk-!-width-two-thirds" id="impact-notes" name="notes" rows="3" aria-describedby="impact-notes-hint"></textarea>
				</div>

				<button class="govuk-button" type="submit">Save impact record</button>
			</form>

			<!-- Impact records table -->
			<table id="impact-table" class="govuk-table govuk-!-margin-top-6">
				<caption class="govuk-table__caption govuk-table__caption--m">
					Recorded impacts for this project
				</caption>
				<thead class="govuk-table__head">
					<tr class="govuk-table__row">
						<th scope="col" class="govuk-table__header">Insight</th>
						<th scope="col" class="govuk-table__header">Decision</th>
						<th scope="col" class="govuk-table__header">Metric</th>
						<th scope="col" class="govuk-table__header">Baseline</th>
						<th scope="col" class="govuk-table__header">Target</th>
						<th scope="col" class="govuk-table__header">Actual</th>
						<th scope="col" class="govuk-table__header">Type</th>
					</tr>
				</thead>
				<tbody class="govuk-table__body">
					<!-- rows will be populated by impact-tracker.js -->
				</tbody>
			</table>
		</section>

	</main>

	<x-include src="/partials/footer.html"></x-include>

	<script type="module" src="/components/impact-tracker.js"></script>
	<script type="module">
		(function() {
			const params = new URLSearchParams(window.location.search);
			const projectId = params.get("id");
			if (projectId) {
				const impactSection = document.getElementById("impact-tracker");
				if (impactSection) impactSection.setAttribute("data-project-id", projectId);
				// update breadcrumb project link to project dashboard
				const bcProject = document.getElementById("breadcrumb-project");
				if (bcProject) bcProject.href = `/pages/project-dashboard/?id=${encodeURIComponent(projectId)}`;
				// update back link to research outcomes section
				const backLink = document.getElementById("back-link");
				if (backLink) {
					backLink.href = `/pages/project-dashboard/?id=${encodeURIComponent(projectId)}#outcomes`;
				}
			}

			// Auto-generate Insight ID if empty
			const insightInput = document.getElementById("impact-insightId");
			if (insightInput && !insightInput.value) {
				if (window.crypto && typeof window.crypto.randomUUID === "function") {
					insightInput.value = window.crypto.randomUUID();
				} else {
					insightInput.value = "insight-" + Math.random().toString(36).slice(2, 10);
				}
			}
		})();
	</script>
</body>

</html>
